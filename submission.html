<!DOCTYPE html>
<html>

<head>
    <title>Portfolio Submission</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.js"></script>
</head>

<body>

    <!-- URL: https://script.google.com/macros/s/AKfycbwrBXNdz1WbrB2jqZ5UIyfJje663ZI9WyQPrrQltZPo7Mn6-Ls/exec !-->

    <form id="form">
        <label for="uploadfile">Upload your portfolio as a ZIP file (limit: 50MB):</label>
        <input id="uploadfile" name="portfolio" type="file">
        
        <label for="andrewID1">First AndrewID:</label>
        <input id="andrewID1" name="first" type="text">

        <label for="andrewID2">Second AndrewID (optional):</label>
        <input id="andrewID2" name="second" type="text">

        <label for="andrewID3">Third AndrewID (optional):</label>
        <input id="andrewID3" name="third" type="text">

        <input id="submit" type="submit">
    </form>

    <script>
        /* Uses FormData object & XMLHTTPRequest */
        $('#uploadfile').on("change", function() {

            /* Initialize form information */
            var file = this.files[0];
            var fr = new FileReader();
            fr.fileName = file.name
            fr.onload = function(e) {
                e.target.result
                html = '<input type="hidden" name="data" value="' + e.target.result.replace(/^.*,/, '') + '" >';
                html += '<input type="hidden" name="mimetype" value="' + e.target.result.match(/^.*(?=;)/)[0] + '" >';
                html += '<input type="hidden" name="filename" value="' + e.target.fileName + '" >';
                $("#data").empty().append(html);
            }

            fr.readAsDataURL(file);

            /* Setup XML HTTP request */
            var xhr = new XMLHttpRequest();
            xhr.open("POST", "https://script.google.com/macros/s/AKfycbwrBXNdz1WbrB2jqZ5UIyfJje663ZI9WyQPrrQltZPo7Mn6-Ls/exec", true);

            /* Send header information w/ request as FormData object */
            xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");

            /* "result" attributes contains data in form "data: URL" */
            xhr.send(fr.result);
        }); 



    </script>
</body>

</html>